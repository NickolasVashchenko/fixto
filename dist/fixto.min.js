/*! fixto - v0.5.0 - 2016-12-13
* http://github.com/bbarakaci/fixto/*/var fixto=function(a,b,c){function d(){this._vendor=null}function e(){var a=!1,b=c.createElement("div"),d=c.createElement("div");b.appendChild(d),b.style[p]="translate(0)",b.style.marginTop="10px",b.style.visibility="hidden",d.style.position="fixed",d.style.top=0,c.body.appendChild(b);var e=d.getBoundingClientRect();return e.top>0&&(a=!0),c.body.removeChild(b),a}function f(b,c,d){this.child=b,this._$child=a(b),this.parent=c,this.options={className:"fixto-fixed",top:0,mindViewport:!1},this._setOptions(d)}function g(a){this.c=a}function h(a){this.c=a}function i(a,b,c){f.call(this,a,b,c),this._replacer=new l.MimicNode(a),this._ghostNode=this._replacer.replacer,this._saveStyles(),this._saveViewportHeight(),this._proxied_onscroll=this._bind(this._onscroll,this),this._proxied_onresize=this._bind(this._onresize,this),this.start()}function j(a,b,c){f.call(this,a,b,c),this.start()}var k=function(){var a={getAll:function(a){return c.defaultView.getComputedStyle(a)},get:function(a,b){return this.getAll(a)[b]},toFloat:function(a){return parseFloat(a,10)||0},getFloat:function(a,b){return this.toFloat(this.get(a,b))},_getAllCurrentStyle:function(a){return a.currentStyle}};return c.documentElement.currentStyle&&(a.getAll=a._getAllCurrentStyle),a}(),l=function(){function b(a){this.element=a,this.replacer=c.createElement("div"),this.replacer.style.visibility="hidden",this.hide(),a.parentNode.insertBefore(this.replacer,a)}b.prototype={replace:function(){var a=this.replacer.style,b=k.getAll(this.element);a.width=this._width(),a.height=this._height(),a.marginTop=b.marginTop,a.marginBottom=b.marginBottom,a.marginLeft=b.marginLeft,a.marginRight=b.marginRight,a.cssFloat=b.cssFloat,a.styleFloat=b.styleFloat,a.position=b.position,a.top=b.top,a.right=b.right,a.bottom=b.bottom,a.left=b.left,a.display=b.display},hide:function(){this.replacer.style.display="none"},_width:function(){return this.element.getBoundingClientRect().width+"px"},_widthOffset:function(){return this.element.offsetWidth+"px"},_height:function(){return this.element.getBoundingClientRect().height+"px"},_heightOffset:function(){return this.element.offsetHeight+"px"},destroy:function(){a(this.replacer).remove();for(var b in this)this.hasOwnProperty(b)&&(this[b]=null)}};var d=c.documentElement.getBoundingClientRect();return d.width||(b.prototype._width=b.prototype._widthOffset,b.prototype._height=b.prototype._heightOffset),{MimicNode:b,computedStyle:k}}();d.prototype={_vendors:{webkit:{cssPrefix:"-webkit-",jsPrefix:"Webkit"},moz:{cssPrefix:"-moz-",jsPrefix:"Moz"},ms:{cssPrefix:"-ms-",jsPrefix:"ms"},opera:{cssPrefix:"-o-",jsPrefix:"O"}},_prefixJsProperty:function(a,b){return a.jsPrefix+b[0].toUpperCase()+b.substr(1)},_prefixValue:function(a,b){return a.cssPrefix+b},_valueSupported:function(a,b,c){try{return c.style[a]=b,c.style[a]===b}catch(a){return!1}},propertySupported:function(a){return void 0!==c.documentElement.style[a]},getJsProperty:function(a){if(this.propertySupported(a))return a;if(this._vendor)return this._prefixJsProperty(this._vendor,a);var b;for(var c in this._vendors)if(b=this._prefixJsProperty(this._vendors[c],a),this.propertySupported(b))return this._vendor=this._vendors[c],b;return null},getCssValue:function(a,b){var d=c.createElement("div"),e=this.getJsProperty(a);if(this._valueSupported(e,b,d))return b;var f;if(this._vendor&&(f=this._prefixValue(this._vendor,b),this._valueSupported(e,f,d)))return f;for(var g in this._vendors)if(f=this._prefixValue(this._vendors[g],b),this._valueSupported(e,f,d))return this._vendor=this._vendors[g],f;return null}};var m,n,o=new d,p=o.getJsProperty("transform"),q=o.getCssValue("position","sticky"),r=o.getCssValue("position","fixed"),s="Microsoft Internet Explorer"===navigator.appName;s&&(n=parseFloat(navigator.appVersion.split("MSIE")[1])),f.prototype={_mindtop:function(){var a=0;if(this._$mind)for(var b,c,d=0,e=this._$mind.length;d<e;d++)if(b=this._$mind[d],c=b.getBoundingClientRect(),c.height)a+=c.height;else{var f=k.getAll(b);a+=b.offsetHeight+k.toFloat(f.marginTop)+k.toFloat(f.marginBottom)}return a+this.options.top},stop:function(){this._stop(),this._running=!1},start:function(){this._running||(this._start(),this._running=!0)},destroy:function(){this.stop(),this._destroy(),this._$child.removeData("fixto-instance");for(var a in this)this.hasOwnProperty(a)&&(this[a]=null)},_setOptions:function(b){a.extend(this.options,b),this.options.mind&&(this._$mind=a(this.options.mind)),this.options.zIndex&&(this.child.style.zIndex=this.options.zIndex)},setOptions:function(a){this._setOptions(a),this.refresh()},_stop:function(){},_start:function(){},_destroy:function(){},refresh:function(){}},a.extend(g.prototype,{windowLimiter:function(){return c.documentElement.scrollTop||c.body.scrollTop},parentLimiter:function(){var a=this.c.parent.offsetHeight+this.c._fullOffset("offsetTop",this.c.parent);return this.c.options.mindBottomPadding!==!1&&(a-=k.getFloat(this.c.parent,"paddingBottom")),a},isBetween:function(a){return this.c._windowLimiter<this.c._parentLimiter&&this.c._windowLimiter>this.c._fullOffset("offsetTop",this.c.child)-a},initStyle:function(a,b){return a-k.toFloat(b)+"px"},innerTop:function(a,b,c){var d=this.c._parentLimiter-this.c._windowLimiter-(this.c.child.offsetHeight+k.toFloat(c.marginBottom)+a);return d>0&&(d=0),d+a+b-k.toFloat(c.marginTop)+"px"},isOffScreen:function(a){return this.c._windowLimiter>this.c._parentLimiter||this.c._windowLimiter<this.c._fullOffset("offsetTop",this.c._ghostNode)-a}}),a.extend(h.prototype,{windowLimiter:function(){return(c.documentElement.scrollTop||c.body.scrollTop)+this.c._viewportHeight},parentLimiter:function(){var a=this.c._fullOffset("offsetTop",this.c.parent);return this.c.options.mindBottomPadding!==!1&&(a+=k.getFloat(this.c.parent,"paddingTop")),a},isBetween:function(a){var b=this.c._windowLimiter-a<this.c._parentLimiter+this.c.child.offsetHeight||this._viewportTop()+this.c.child.offsetHeight>this.c._fullOffset("offsetTop",this.c.child)+this.c.parent.offsetHeight+a;return!b},initStyle:function(a,b){return k.toFloat(b)+"px"},innerTop:function(a,b,c){var d=this.c._windowLimiter-this.c._fullOffset("offsetTop",this.c.parent)-this.c.parent.offsetHeight+k.getFloat(this.c.parent,"paddingBottom")-k.toFloat(c.marginTop)-a;return d<0&&(d=0),this.c._viewportHeight-this.c.child.offsetHeight-d-a-b-k.toFloat(c.marginTop)+"px"},isOffScreen:function(a){return this._viewportTop()>this.c._fullOffset("offsetTop",this.c.parent)+k.getFloat(this.c.parent,"paddingTop")+this.c.parent.offsetHeight+a||this.c._windowLimiter<this.c._fullOffset("offsetTop",this.c.parent)+k.getFloat(this.c.parent,"paddingTop")+this.c.child.offsetHeight+a},_viewportTop:function(){return this.c._windowLimiter-this.c._viewportHeight}}),i.prototype=new f,a.extend(i.prototype,{_bind:function(a,b){return function(){return a.call(b)}},_toresize:8===n?c.documentElement:b,_onscroll:function(){var a;if(this._windowLimiter=this._calc.windowLimiter(),this._parentLimiter=this._calc.parentLimiter(),a=this._mindtop(),!this.fixed&&this._calc.isBetween(a)&&this._viewportIsBigEnough())this._fix(a);else{if(this.fixed&&this._calc.isOffScreen(a))return void this._unfix();this._adjust(a)}},_viewportIsBigEnough:function(){return!this.options.mindViewport||this._viewportFreeSpace()>=0},_viewportFreeSpace:function(){var a=k.getAll(this.child);return this._viewportHeight-(this.child.offsetHeight+k.toFloat(a.marginTop)+k.toFloat(a.marginBottom))},_adjust:function(a){var b=0,c=k.getAll(this.child),d=null;m&&(d=this._getContext(),d&&(b=Math.abs(d.getBoundingClientRect().top))),this.child.style.top=this._calc.innerTop(a,b,c)},_fullOffset:function(a,b,c){for(var d=b[a],e=b.offsetParent;null!==e&&e!==c;)d+=e[a],e=e.offsetParent;return d},_getContext:function(){for(var a,b,d=this.child,e=null;!e;){if(a=d.parentNode,a===c.documentElement)return null;if(b=k.getAll(a),"none"!==b[p]){e=a;break}d=a}return e},_fix:function(a){var b=this.child,d=b.style,e=k.getAll(b),f=b.getBoundingClientRect().left,g=e.width;if(this._saveStyles(),c.documentElement.currentStyle&&(g=b.offsetWidth-(k.toFloat(e.paddingLeft)+k.toFloat(e.paddingRight)+k.toFloat(e.borderLeftWidth)+k.toFloat(e.borderRightWidth))+"px"),m){var h=this._getContext();h&&(f=b.getBoundingClientRect().left-h.getBoundingClientRect().left)}this._replacer.replace(),d.left=f-k.toFloat(e.marginLeft)+"px",d.width=g,d.position="fixed",this._$child.addClass(this.options.className),this.fixed=!0,this._adjust(a)},_unfix:function(){var a=this.child.style;this._replacer.hide(),a.position=this._childOriginalPosition,a.top=this._childOriginalTop,a.width=this._childOriginalWidth,a.left=this._childOriginalLeft,this._$child.removeClass(this.options.className),this.fixed=!1},_saveStyles:function(){var a=this.child.style;this._childOriginalPosition=a.position,this._childOriginalTop=a.top,this._childOriginalWidth=a.width,this._childOriginalLeft=a.left},_onresize:function(){this.refresh()},_saveViewportHeight:function(){this._viewportHeight=b.innerHeight||c.documentElement.clientHeight},_stop:function(){this._unfix(),a(b).unbind("scroll",this._proxied_onscroll),a(this._toresize).unbind("resize",this._proxied_onresize)},_start:function(){this._calc=this.options.invert?new h(this):new g(this),this._onscroll(),a(b).bind("scroll",this._proxied_onscroll),a(this._toresize).bind("resize",this._proxied_onresize)},_destroy:function(){this._replacer.destroy()},refresh:function(){this._saveViewportHeight(),this._unfix(),this._onscroll()}}),j.prototype=new f,a.extend(j.prototype,{_start:function(){var a=k.getAll(this.child);this._childOriginalPosition=a.position,this._childOriginalTop=a.top,this.child.style.position=q,this.refresh()},_stop:function(){this.child.style.position=this._childOriginalPosition,this.child.style.top=this._childOriginalTop},refresh:function(){this.child.style.top=this._mindtop()+"px"}});var t=function(a,b,c){return q&&!c||q&&c&&c.useNativeSticky!==!1?new j(a,b,c):r?(void 0===m&&(m=e()),new i(a,b,c)):"Neither fixed nor sticky positioning supported"};return n<8&&(t=function(){return"not supported"}),a.fn.fixTo=function(b,c){var d=a(b),e=0;return this.each(function(){var f=a(this).data("fixto-instance");if(f){var g=b;f[g].call(f,c)}else a(this).data("fixto-instance",t(this,d[e],c));e++})},{FixToContainer:i,fixTo:t,computedStyle:k,mimicNode:l}}(window.jQuery,window,document);